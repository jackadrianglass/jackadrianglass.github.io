<!doctype html>
<head>
    <link rel="stylesheet" href="style.css">
    <title>CMake</title>
</head>
<body>
    <div class="backdrop"
        style="background-image: url(https://upload.wikimedia.org/wikipedia/commons/thumb/1/13/Cmake.svg/1200px-Cmake.svg.png)">
    </div>
    <div class="header">
        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/13/Cmake.svg/1200px-Cmake.svg.png"/>
    </div>
    <div class="navbar">
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="cmake.html">Cmake</a>
            <li><a href="bazel.html">Bazel</a></li>
            <li><a href="meson.html">Meson</a></li>
            <li><a href="boostbuild.html">boost.build</a></li>
        </ul>
    </div>
    <div class="content">
        <h1>CMake</h1>
        <p>
            According to the JetBrains 2020 c++ ecosystem 
            <a href="https://www.jetbrains.com/lp/devecosystem-2020/cpp/">Survey</a>, Cmake is the most
            popular build system for C++ projects. It is also possibly one of the most hated build
            system that I've ever encoutered. CMake earned a poor reputation due to the horrible
            looking build files and confusing errors from CMake 2. It has largely improve and is now
            the defacto standard for open source projects in C++.
        </p>
        <p>
            CMake's claim to fame are as follows
        </p>
        <ul>
            <li>Meta build system for hard to scale Make files (at least originally)</li>
            <li>Portable to a ton of OSs. Was made for the linux world with 8000 distros</li>
            <li>Relatively simple language to work with</li>
        </ul>
        <p>
        A simple CMake configuration file for hello world looks like this
        </p>
        <p class="code">cmake_minimum_required(VERSION 3.15)
            project(example)
            add_executable(main main.cc)
        </p>
        <p>
            A more complicated CMake configuration file from the
            <a href="https://github.com/google/googletest/blob/master/googlemock/CMakeLists.txt">googlemock</a> project
            looks like this
        </p>
        <p class="code">//from https://github.com/google/googletest/blob/master/googlemock/CMakeLists.txt
            ...
            if (MSVC)
                cxx_library(gmock_main_no_exception "${cxx_no_exception}"
                "${gtest_dir}/src/gtest-all.cc" src/gmock-all.cc src/gmock_main.cc)
            
                cxx_library(gmock_main_no_rtti "${cxx_no_rtti}"
                "${gtest_dir}/src/gtest-all.cc" src/gmock-all.cc src/gmock_main.cc)
            
            else()
                cxx_library(gmock_main_no_exception "${cxx_no_exception}" src/gmock_main.cc)
                target_link_libraries(gmock_main_no_exception PUBLIC gmock)
            
                cxx_library(gmock_main_no_rtti "${cxx_no_rtti}" src/gmock_main.cc)
                target_link_libraries(gmock_main_no_rtti PUBLIC gmock)
            endif()
            cxx_test_with_flags(gmock-more-actions_no_exception_test "${cxx_no_exception}"
                gmock_main_no_exception test/gmock-more-actions_test.cc)
            
            cxx_test_with_flags(gmock_no_rtti_test "${cxx_no_rtti}"
                gmock_main_no_rtti test/gmock-spec-builders_test.cc)
            
            cxx_shared_library(shared_gmock_main "${cxx_default}"
                "${gtest_dir}/src/gtest-all.cc" src/gmock-all.cc src/gmock_main.cc)
        </p>
    </div>
</body>